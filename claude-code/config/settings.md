---
title: Claude Code settings
source: https://code.claude.com/docs/en/settings
category: config
scraped: 2025-12-15T22:10:32.149244
---

# Claude Code settings - Settings - Terminal configuration - Model configuration - Memory management - Status line configuration - Settings files - Available settings - Permission settings - Sandbox settings - Attribution settings - Settings precedence - Key points about the configuration system - System prompt - Excluding sensitive files - Subagent configuration - Plugin configuration - Plugin settings - enabledPlugins - extraKnownMarketplaces - Managing plugins - Environment variables - Tools available to Claude - Bash tool behavior - Extending tools with hooks - See also # Claude Code settings Configure Claude Code with global and project-level settings, and environment variables. `/config` ## â€‹Settings files `settings.json`- User settingsare defined in~/.claude/settings.jsonand apply to all projects. - Project settingsare saved in your project directory:.claude/settings.jsonfor settings that are checked into source control and shared with your team.claude/settings.local.jsonfor settings that are not checked in, useful for personal preferences and experimentation. Claude Code will configure git to ignore.claude/settings.local.jsonwhen it is created. - For enterprise deployments of Claude Code, we also supportenterprise managed policy settings. These take precedence over user and project settings. System administrators can deploy policies to:macOS:/Library/Application Support/ClaudeCode/managed-settings.jsonLinux and WSL:/etc/claude-code/managed-settings.jsonWindows:C:\Program Files\ClaudeCode\managed-settings.jsonC:\ProgramData\ClaudeCode\managed-settings.jsonwill be deprecated in a future version. - Enterprise deployments can also configuremanaged MCP serversthat override user-configured servers. SeeEnterprise MCP configuration:macOS:/Library/Application Support/ClaudeCode/managed-mcp.jsonLinux and WSL:/etc/claude-code/managed-mcp.jsonWindows:C:\Program Files\ClaudeCode\managed-mcp.jsonC:\ProgramData\ClaudeCode\managed-mcp.jsonwill be deprecated in a future version. - Other configurationis stored in~/.claude.json. This file contains your preferences (theme, notification settings, editor mode), OAuth session,MCP serverconfigurations for user and local scopes, per-project state (allowed tools, trust settings), and various caches. Project-scoped MCP servers are stored separately in.mcp.json. `~/.claude/settings.json`- .claude/settings.jsonfor settings that are checked into source control and shared with your team - .claude/settings.local.jsonfor settings that are not checked in, useful for personal preferences and experimentation. Claude Code will configure git to ignore.claude/settings.local.jsonwhen it is created. `.claude/settings.json``.claude/settings.local.json``.claude/settings.local.json`- macOS:/Library/Application Support/ClaudeCode/managed-settings.json - Linux and WSL:/etc/claude-code/managed-settings.json - Windows:C:\Program Files\ClaudeCode\managed-settings.jsonC:\ProgramData\ClaudeCode\managed-settings.jsonwill be deprecated in a future version. `/Library/Application Support/ClaudeCode/managed-settings.json``/etc/claude-code/managed-settings.json``C:\Program Files\ClaudeCode\managed-settings.json`- C:\ProgramData\ClaudeCode\managed-settings.jsonwill be deprecated in a future version. `C:\ProgramData\ClaudeCode\managed-settings.json`- macOS:/Library/Application Support/ClaudeCode/managed-mcp.json - Linux and WSL:/etc/claude-code/managed-mcp.json - Windows:C:\Program Files\ClaudeCode\managed-mcp.jsonC:\ProgramData\ClaudeCode\managed-mcp.jsonwill be deprecated in a future version. `/Library/Application Support/ClaudeCode/managed-mcp.json``/etc/claude-code/managed-mcp.json``C:\Program Files\ClaudeCode\managed-mcp.json`- C:\ProgramData\ClaudeCode\managed-mcp.jsonwill be deprecated in a future version. `C:\ProgramData\ClaudeCode\managed-mcp.json``~/.claude.json``.mcp.json` ``` { "permissions": { "allow": [ "Bash(npm run lint)", "Bash(npm run test:*)", "Read(~/.zshrc)" ], "deny": [ "Bash(curl:*)", "Read(./.env)", "Read(./.env.*)", "Read(./secrets/**)" ] }, "env": { "CLAUDE_CODE_ENABLE_TELEMETRY": "1", "OTEL_METRICS_EXPORTER": "otlp" }, "companyAnnouncements": [ "Welcome to Acme Corp! Review our code guidelines at docs.acme.com", "Reminder: Code reviews required for all PRs", "New security policy in effect" ] } ``` ### â€‹Available settings `settings.json``apiKeyHelper``/bin/sh``X-Api-Key``Authorization: Bearer``/bin/generate_temp_api_key.sh``cleanupPeriodDays``0``20``companyAnnouncements``["Welcome to Acme Corp! Review our code guidelines at docs.acme.com"]``env``{"FOO": "bar"}``attribution``{"commit": "ðŸ¤– Generated with Claude Code", "pr": ""}``includeCoAuthoredBy``attribution``co-authored-by Claude``true``false``permissions``hooks``{"PreToolUse": {"Bash": "echo 'Running command...'"}}``disableAllHooks``true``model``"claude-sonnet-4-5-20250929"``statusLine``statusLine``{"type": "command", "command": "~/.claude/statusline.sh"}``outputStyle``"Explanatory"``forceLoginMethod``claudeai``console``claudeai``forceLoginOrgUUID``forceLoginMethod``"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"``enableAllProjectMcpServers``.mcp.json``true``enabledMcpjsonServers``.mcp.json``["memory", "github"]``disabledMcpjsonServers``.mcp.json``["filesystem"]``allowedMcpServers``[{ "serverName": "github" }]``deniedMcpServers``[{ "serverName": "filesystem" }]``awsAuthRefresh``.aws``aws sso login --profile myprofile``awsCredentialExport``/bin/generate_aws_grant.sh``alwaysThinkingEnabled``/config``true` ### â€‹Permission settings `allow``[ "Bash(git diff:*)" ]``ask``[ "Bash(git push:*)" ]``deny``[ "WebFetch", "Bash(curl:*)", "Read(./.env)", "Read(./secrets/**)" ]``additionalDirectories``[ "../docs/" ]``defaultMode``"acceptEdits"``disableBypassPermissionsMode``"disable"``bypassPermissions``--dangerously-skip-permissions``"disable"` ### â€‹Sandbox settings `enabled``true``autoAllowBashIfSandboxed``true``excludedCommands``["git", "docker"]``allowUnsandboxedCommands``dangerouslyDisableSandbox``false``dangerouslyDisableSandbox``excludedCommands``false``network.allowUnixSockets``["~/.ssh/agent-socket"]``network.allowLocalBinding``true``network.httpProxyPort``8080``network.socksProxyPort``8081``enableWeakerNestedSandbox``true` ``` { "sandbox": { "enabled": true, "autoAllowBashIfSandboxed": true, "excludedCommands": ["docker"], "network": { "allowUnixSockets": [ "/var/run/docker.sock" ], "allowLocalBinding": true } }, "permissions": { "deny": [ "Read(.envrc)", "Read(~/.aws/**)" ] } } ``` - UseReaddeny rules to block Claude from reading specific files or directories - UseEditallow rules to let Claude write to directories beyond the current working directory - UseEditdeny rules to block writes to specific paths - UseWebFetchallow/deny rules to control which network domains Claude can access `Read``Edit``Edit``WebFetch` ### â€‹Attribution settings - Commits usegit trailers(likeCo-Authored-By) by default, which can be customized or disabled - Pull request descriptions are plain text `Co-Authored-By``commit``pr` ``` ðŸ¤– Generated with [Claude Code](https://claude.com/claude-code) Co-Authored-By: Claude Sonnet 4.5 <[email protected]> ``` ``` ðŸ¤– Generated with [Claude Code](https://claude.com/claude-code) ``` ``` { "attribution": { "commit": "Generated with AI\n\nCo-Authored-By: AI <[email protected]>", "pr": "" } } ``` `attribution``includeCoAuthoredBy``commit``pr` ### â€‹Settings precedence 1. Enterprise managed policies(managed-settings.json)Deployed by IT/DevOpsCanâ€™t be overridden 2. Command line argumentsTemporary overrides for a specific session 3. Local project settings(.claude/settings.local.json)Personal project-specific settings 4. Shared project settings(.claude/settings.json)Team-shared project settings in source control 5. User settings(~/.claude/settings.json)Personal global settings `managed-settings.json`- Deployed by IT/DevOps - Canâ€™t be overridden - Temporary overrides for a specific session `.claude/settings.local.json`- Personal project-specific settings `.claude/settings.json`- Team-shared project settings in source control `~/.claude/settings.json`- Personal global settings `Bash(npm run:*)` ### â€‹Key points about the configuration system - Memory files (CLAUDE.md): Contain instructions and context that Claude loads at startup - Settings files (JSON): Configure permissions, environment variables, and tool behavior - Slash commands: Custom commands that can be invoked during a session with/command-name - MCP servers: Extend Claude Code with additional tools and integrations - Precedence: Higher-level configurations (Enterprise) override lower-level ones (User/Project) - Inheritance: Settings are merged, with more specific settings adding to or overriding broader ones `CLAUDE.md``/command-name` ### â€‹System prompt `CLAUDE.md``--append-system-prompt` ### â€‹Excluding sensitive files `permissions.deny``.claude/settings.json` ``` { "permissions": { "deny": [ "Read(./.env)", "Read(./.env.*)", "Read(./secrets/**)", "Read(./config/credentials.json)", "Read(./build)" ] } } ``` `ignorePatterns` ## â€‹Subagent configuration - User subagents:~/.claude/agents/- Available across all your projects - Project subagents:.claude/agents/- Specific to your project and can be shared with your team `~/.claude/agents/``.claude/agents/` ## â€‹Plugin configuration ### â€‹Plugin settings `settings.json` ``` { "enabledPlugins": { "formatter@company-tools": true, "deployer@company-tools": true, "analyzer@security-plugins": false }, "extraKnownMarketplaces": { "company-tools": { "source": "github", "repo": "company/claude-plugins" } } } ``` #### â€‹enabledPlugins `enabledPlugins``"plugin-name@marketplace-name": true/false`- User settings(~/.claude/settings.json): Personal plugin preferences - Project settings(.claude/settings.json): Project-specific plugins shared with team - Local settings(.claude/settings.local.json): Per-machine overrides (not committed) `~/.claude/settings.json``.claude/settings.json``.claude/settings.local.json` ``` { "enabledPlugins": { "code-formatter@team-tools": true, "deployment-tools@team-tools": true, "experimental-features@personal": false } } ``` #### â€‹extraKnownMarketplaces `extraKnownMarketplaces``extraKnownMarketplaces`1. Team members are prompted to install the marketplace when they trust the folder 2. Team members are then prompted to install plugins from that marketplace 3. Users can skip unwanted marketplaces or plugins (stored in user settings) 4. Installation respects trust boundaries and requires explicit consent ``` { "extraKnownMarketplaces": { "company-tools": { "source": { "source": "github", "repo": "company-org/claude-plugins" } }, "security-plugins": { "source": { "source": "git", "url": "https://git.company.com/security/plugins.git" } } } } ``` - github: GitHub repository (usesrepo) - git: Any git URL (usesurl) - directory: Local filesystem path (usespath, for development only) `github``repo``git``url``directory``path` ### â€‹Managing plugins `/plugin`- Browse available plugins from marketplaces - Install/uninstall plugins - Enable/disable plugins - View plugin details (commands, agents, hooks provided) - Add/remove marketplaces ## â€‹Environment variables `settings.json``ANTHROPIC_API_KEY``X-Api-Key``/login``ANTHROPIC_AUTH_TOKEN``Authorization``Bearer ``ANTHROPIC_CUSTOM_HEADERS``Name: Value``ANTHROPIC_DEFAULT_HAIKU_MODEL``ANTHROPIC_DEFAULT_OPUS_MODEL``ANTHROPIC_DEFAULT_SONNET_MODEL``ANTHROPIC_FOUNDRY_API_KEY``ANTHROPIC_MODEL``ANTHROPIC_SMALL_FAST_MODEL``ANTHROPIC_SMALL_FAST_MODEL_AWS_REGION``AWS_BEARER_TOKEN_BEDROCK``BASH_DEFAULT_TIMEOUT_MS``BASH_MAX_OUTPUT_LENGTH``BASH_MAX_TIMEOUT_MS``CLAUDE_BASH_MAINTAIN_PROJECT_WORKING_DIR``CLAUDE_CODE_API_KEY_HELPER_TTL_MS``apiKeyHelper``CLAUDE_CODE_CLIENT_CERT``CLAUDE_CODE_CLIENT_KEY_PASSPHRASE``CLAUDE_CODE_CLIENT_KEY``CLAUDE_CODE_DISABLE_EXPERIMENTAL_BETAS``1``anthropic-beta``anthropic-beta``CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC``DISABLE_AUTOUPDATER``DISABLE_BUG_COMMAND``DISABLE_ERROR_REPORTING``DISABLE_TELEMETRY``CLAUDE_CODE_DISABLE_TERMINAL_TITLE``1``CLAUDE_CODE_IDE_SKIP_AUTO_INSTALL``CLAUDE_CODE_MAX_OUTPUT_TOKENS``CLAUDE_CODE_SHELL_PREFIX``/path/to/logger.sh``/path/to/logger.sh <command>``CLAUDE_CODE_SKIP_BEDROCK_AUTH``CLAUDE_CODE_SKIP_FOUNDRY_AUTH``CLAUDE_CODE_SKIP_VERTEX_AUTH``CLAUDE_CODE_SUBAGENT_MODEL``CLAUDE_CODE_USE_BEDROCK``CLAUDE_CODE_USE_FOUNDRY``CLAUDE_CODE_USE_VERTEX``CLAUDE_CONFIG_DIR``DISABLE_AUTOUPDATER``1``DISABLE_BUG_COMMAND``1``/bug``DISABLE_COST_WARNINGS``1``DISABLE_ERROR_REPORTING``1``DISABLE_NON_ESSENTIAL_MODEL_CALLS``1``DISABLE_PROMPT_CACHING``1``DISABLE_PROMPT_CACHING_HAIKU``1``DISABLE_PROMPT_CACHING_OPUS``1``DISABLE_PROMPT_CACHING_SONNET``1``DISABLE_TELEMETRY``1``HTTP_PROXY``HTTPS_PROXY``MAX_MCP_OUTPUT_TOKENS``MAX_THINKING_TOKENS``MCP_TIMEOUT``MCP_TOOL_TIMEOUT``NO_PROXY``SLASH_COMMAND_TOOL_CHAR_BUDGET``USE_BUILTIN_RIPGREP``0``rg``rg``VERTEX_REGION_CLAUDE_3_5_HAIKU``VERTEX_REGION_CLAUDE_3_7_SONNET``VERTEX_REGION_CLAUDE_4_0_OPUS``VERTEX_REGION_CLAUDE_4_0_SONNET``VERTEX_REGION_CLAUDE_4_1_OPUS` ## â€‹Tools available to Claude `/allowed-tools` ### â€‹Bash tool behavior - Working directory persists: When Claude changes the working directory (for example,cd /path/to/dir), subsequent Bash commands will execute in that directory. You can useCLAUDE_BASH_MAINTAIN_PROJECT_WORKING_DIR=1to reset to the project directory after each command. - Environment variables do NOT persist: Environment variables set in one Bash command (for example,export MY_VAR=value) arenotavailable in subsequent Bash commands. Each Bash command runs in a fresh shell environment. `cd /path/to/dir``CLAUDE_BASH_MAINTAIN_PROJECT_WORKING_DIR=1``export MY_VAR=value` ``` conda activate myenv # or: source /path/to/venv/bin/activate claude ``` ``` export CLAUDE_ENV_FILE=/path/to/env-setup.sh claude ``` `/path/to/env-setup.sh` ``` conda activate myenv # or: source /path/to/venv/bin/activate # or: export MY_VAR=value ``` `.claude/settings.json` ``` { "hooks": { "SessionStart": [{ "matcher": "startup", "hooks": [{ "type": "command", "command": "echo 'conda activate myenv' >> \"$CLAUDE_ENV_FILE\"" }] }] } } ``` `$CLAUDE_ENV_FILE` ### â€‹Extending tools with hooks ## â€‹See also - Identity and Access Management- Learn about Claude Codeâ€™s permission system - IAM and access control- Enterprise policy management - Troubleshooting- Solutions for common configuration issues Was this page helpful?

---
*Source: [Claude Code settings](https://code.claude.com/docs/en/settings)*
